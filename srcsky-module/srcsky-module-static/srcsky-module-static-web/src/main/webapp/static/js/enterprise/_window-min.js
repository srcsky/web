KISSY.add("enterprise/_window",function(h){var j={},K={content:'<div class="aui_loading"><span>loading..</span></div>',title:"\u6d88\u606f",button:null,ok:null,cancel:null,init:null,close:null,okVal:"\u786e\u5b9a",cancelVal:"\u53d6\u6d88",width:"auto",height:"auto",minWidth:96,minHeight:32,padding:"20px 25px",skin:"",icon:null,time:null,esc:!0,focus:!0,show:!0,follow:null,path:h.getPath("enterprise"),lock:!1,background:"#000",opacity:0.7,duration:300,fixed:!1,left:"50%",top:"38.2%",zIndex:1987,resize:!0,
drag:!0,offset:{top:0,left:0}};(function(d,f){function l(a){var b=g.expando,c=a===d?0:a[b];c===f&&(a[b]=c=++g.uuid);return c}function z(){if(!g.isReady){try{document.documentElement.doScroll("left")}catch(a){setTimeout(z,1);return}g.ready()}}var g=j.$=function(a,b){return new g.fn.init(a,b)},u=!1,x=[],v,s="opacity"in document.documentElement.style,L=/^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]+)$)/,M=/[\n\t]/g,E=/alpha\([^)]*\)/i,N=/opacity=([^)]*)/,O=/^([+-]=)?([\d+-.]+)(.*)$/;g.fn=g.prototype={constructor:g,
ready:function(a){g.bindReady();g.isReady?a.call(document,g):x&&x.push(a);return this},hasClass:function(a){return-1<(" "+this[0].className+" ").replace(M," ").indexOf(" "+a+" ")?!0:!1},addClass:function(a){this.hasClass(a)||(this[0].className+=" "+a);return this},removeClass:function(a){var b=this[0];a?this.hasClass(a)&&(b.className=b.className.replace(a," ")):b.className="";return this},css:function(a,b){var c,e=this[0];if("string"===typeof a){if(b===f)return g.css(e,a);"opacity"===a?g.opacity.set(e,
b):e.style[a]=b}else for(c in a)"opacity"===c?g.opacity.set(e,a[c]):e.style[c]=a[c];return this},show:function(){return this.css("display","block")},hide:function(){return this.css("display","none")},offset:function(){var a=this[0],b=a.getBoundingClientRect(),c=a.ownerDocument,a=c.body,c=c.documentElement;return{left:b.left+(self.pageXOffset||c.scrollLeft)-(c.clientLeft||a.clientLeft||0),top:b.top+(self.pageYOffset||c.scrollTop)-(c.clientTop||a.clientTop||0)}},html:function(a){var b=this[0];if(a===
f)return b.innerHTML;g.cleanData(b.getElementsByTagName("*"));b.innerHTML=a;return this},remove:function(){var a=this[0];g.cleanData(a.getElementsByTagName("*"));g.cleanData([a]);a.parentNode.removeChild(a);return this},bind:function(a,b){g.event.add(this[0],a,b);return this},unbind:function(a,b){g.event.remove(this[0],a,b);return this}};g.fn.init=function(a,b){var c,b=b||document;if(!a)return this;if(a.nodeType)return this[0]=a,this;if("body"===a&&b.body)return this[0]=b.body,this;if("head"===a||
"html"===a)return this[0]=b.getElementsByTagName(a)[0],this;if("string"===typeof a&&(c=L.exec(a))&&c[2])return(c=b.getElementById(c[2]))&&c.parentNode&&(this[0]=c),this;if("function"===typeof a)return g(document).ready(a);this[0]=a;return this};g.fn.init.prototype=g.fn;g.isWindow=function(a){return a&&"object"===typeof a&&"setInterval"in a};g.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)};g.fn.find=function(a){var b,c=this[0];if(b=a.split(".")[1])if(document.getElementsByClassName)b=
c.getElementsByClassName(b);else{var e;e=c||document;var c=a=0,i=[];e=e.getElementsByTagName("*");var f=e.length;for(b=RegExp("(^|\\s)"+b+"(\\s|$)");a<f;a++)b.test(e[a].className)&&(i[c]=e[a],c++);b=i}else b=c.getElementsByTagName(a);return g(b[0])};g.each=function(a,b){var c,e=0,i=a.length;if(i===f)for(c in a){if(!1===b.call(a[c],c,a[c]))break}else for(c=a[0];e<i&&!1!==b.call(c,e,c);c=a[++e]);return a};g.data=function(a,b,c){var e=g.cache,a=l(a);if(b===f)return e[a];e[a]||(e[a]={});c!==f&&(e[a][b]=
c);return e[a][b]};g.removeData=function(a,b){var c=!0,e=g.expando,i=g.cache,f=l(a),d=f&&i[f];if(d)if(b){delete d[b];for(var h in d)c=!1;c&&delete g.cache[f]}else delete i[f],a.removeAttribute?a.removeAttribute(e):a[e]=null};g.uuid=0;g.cache={};g.expando="@cache"+ +new Date;g.event={add:function(a,b,c){var e,i=g.event;e=g.data(a,"@events")||g.data(a,"@events",{});e=e[b]=e[b]||{};(e.listeners=e.listeners||[]).push(c);e.handler||(e.elem=a,e.handler=i.handler(e),a.addEventListener?a.addEventListener(b,
e.handler,!1):a.attachEvent("on"+b,e.handler))},remove:function(a,b,c){var e,i,f;i=g.event;var d=!0,h=g.data(a,"@events");if(h)if(b){if(i=h[b]){f=i.listeners;if(c)for(e=0;e<f.length;e++)f[e]===c&&f.splice(e--,1);else i.listeners=[];if(0===i.listeners.length){a.removeEventListener?a.removeEventListener(b,i.handler,!1):a.detachEvent("on"+b,i.handler);delete h[b];i=g.data(a,"@events");for(var p in i)d=!1;d&&g.removeData(a,"@events")}}}else for(e in h)i.remove(a,e)},handler:function(a){return function(b){for(var b=
g.event.fix(b||d.event),c=0,e=a.listeners,i;i=e[c++];)!1===i.call(a.elem,b)&&(b.preventDefault(),b.stopPropagation())}},fix:function(a){if(a.target)return a;var b={target:a.srcElement||document,preventDefault:function(){a.returnValue=!1},stopPropagation:function(){a.cancelBubble=!0}},c;for(c in a)b[c]=a[c];return b}};g.cleanData=function(a){for(var b=0,c,e=a.length,i=g.event.remove,f=g.removeData;b<e;b++)c=a[b],i(c),f(c)};g.isReady=!1;g.ready=function(){if(!g.isReady){if(!document.body)return setTimeout(g.ready,
13);g.isReady=!0;if(x){for(var a,b=0;a=x[b++];)a.call(document,g);x=null}}};g.bindReady=function(){if(!u){u=!0;if("complete"===document.readyState)return g.ready();if(document.addEventListener)document.addEventListener("DOMContentLoaded",v,!1),d.addEventListener("load",g.ready,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",v);d.attachEvent("onload",g.ready);var a=!1;try{a=null==d.frameElement}catch(b){}document.documentElement.doScroll&&a&&z()}}};document.addEventListener?
v=function(){document.removeEventListener("DOMContentLoaded",v,!1);g.ready()}:document.attachEvent&&(v=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",v),g.ready())});g.css="defaultView"in document&&"getComputedStyle"in document.defaultView?function(a,b){return document.defaultView.getComputedStyle(a,!1)[b]}:function(a,b){return("opacity"===b?g.opacity.get(a):a.currentStyle[b])||""};g.opacity={get:function(a){return s?document.defaultView.getComputedStyle(a,
!1).opacity:N.test((a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":1},set:function(a,b){if(s)return a.style.opacity=b;var c=a.style;c.zoom=1;var e="alpha(opacity="+100*b+")",i=c.filter||"";c.filter=E.test(i)?i.replace(E,e):c.filter+" "+e}};g.each(["Left","Top"],function(a,b){var c="scroll"+b;g.fn[c]=function(){var b=this[0],i;return(i=g.isWindow(b)?b:9===b.nodeType?b.defaultView||b.parentWindow:!1)?"pageXOffset"in i?i[a?"pageYOffset":"pageXOffset"]:i.document.documentElement[c]||
i.document.body[c]:b[c]}});g.each(["Height","Width"],function(a,b){var c=b.toLowerCase();g.fn[c]=function(a){var c=this[0];return!c?null==a?null:this:g.isWindow(c)?c.document.documentElement["client"+b]||c.document.body["client"+b]:9===c.nodeType?Math.max(c.documentElement["client"+b],c.body["scroll"+b],c.documentElement["scroll"+b],c.body["offset"+b],c.documentElement["offset"+b]):null}});g.ajax=function(a){var b=d.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),c=a.url;
if(!1===a.cache)var e=+new Date,i=c.replace(/([?&])_=[^&]*/,"$1_="+e),c=i+(i===c?(/\?/.test(c)?"&":"?")+"_="+e:"");b.onreadystatechange=function(){4===b.readyState&&200===b.status&&(a.success&&a.success(b.responseText),b.onreadystatechange=h.noop)};b.open("GET",c,1);b.send(null)};g.fn.animate=function(a,b,c,e){"function"===typeof c&&(e=c);var c=c&&g.easing[c]?c:"swing",i=this[0],f,d,h,p,j,k,l={speed:b||400,easing:c,callback:function(){null!=f&&(i.style.overflow="");e&&e()},curAnim:{}};g.each(a,function(a,
b){l.curAnim[a]=b});g.each(a,function(a,b){d=new g.fx(i,l,a);h=O.exec(b);p=parseFloat("opacity"===a||i.style&&null!=i.style[a]?g.css(i,a):i[a]);j=parseFloat(h[2]);k=h[3];if("height"===a||"width"===a)j=Math.max(0,j),f=[i.style.overflow,i.style.overflowX,i.style.overflowY];d.custom(p,j,k)});null!=f&&(i.style.overflow="hidden");return this};g.timers=[];g.fx=function(a,b,c){this.elem=a;this.options=b;this.prop=c};g.fx.prototype={custom:function(a,b,c){function e(){return i.step()}var i=this;i.startTime=
g.fx.now();i.start=a;i.end=b;i.unit=c;i.now=i.start;i.state=i.pos=0;e.elem=i.elem;e();g.timers.push(e);g.timerId||(g.timerId=setInterval(g.fx.tick,13))},step:function(){var a=g.fx.now(),b=!0;if(a>=this.options.speed+this.startTime){this.now=this.end;this.state=this.pos=1;this.update();this.options.curAnim[this.prop]=!0;for(var c in this.options.curAnim)!0!==this.options.curAnim[c]&&(b=!1);b&&this.options.callback.call(this.elem);return!1}a-=this.startTime;this.state=a/this.options.speed;this.pos=
g.easing[this.options.easing](this.state,a,0,1,this.options.speed);this.now=this.start+(this.end-this.start)*this.pos;this.update();return!0},update:function(){"opacity"===this.prop?g.opacity.set(this.elem,this.now):this.elem.style&&null!=this.elem.style[this.prop]?this.elem.style[this.prop]=this.now+this.unit:this.elem[this.prop]=this.now}};g.fx.now=function(){return+new Date};g.easing={linear:function(a,b,c,e){return c+e*a},swing:function(a,b,c,e){return(-Math.cos(a*Math.PI)/2+0.5)*e+c}};g.fx.tick=
function(){for(var a=g.timers,b=0;b<a.length;b++)!a[b]()&&a.splice(b--,1);!a.length&&g.fx.stop()};g.fx.stop=function(){clearInterval(g.timerId);g.timerId=null};g.fn.stop=function(){for(var a=g.timers,b=a.length-1;0<=b;b--)a[b].elem===this[0]&&a.splice(b,1);return this};var w,B=0,m=g(d),n=g(document),F=g("html"),y=document.documentElement,o=d.VBArray&&!d.XMLHttpRequest,C="createTouch"in document&&!("onmousemove"in y)||/(iPhone|iPad|iPod)/i.test(navigator.userAgent),q="artDialog"+ +new Date,k=function(a,
b,c){a=a||{};if("string"===typeof a||1===a.nodeType)a={content:a,fixed:!C};var e;e=k.defaults;var i=a.follow=1===this.nodeType&&this||a.follow,d;for(d in e)a[d]===f&&(a[d]=e[d]);g.each({ok:"yesFn",cancel:"noFn",close:"closeFn",init:"initFn",okVal:"yesText",cancelVal:"noText"},function(b,c){a[b]=a[b]!==f?a[b]:a[c]});"string"===typeof i&&(i=g(i)[0]);a.id=i&&i[q+"follow"]||a.id||q+B;e=k.list[a.id];if(i&&e)return e.follow(i).zIndex().focus();if(e)return e.zIndex().focus();C&&(a.fixed=!1);g.isArray(a.button)||
(a.button=a.button?[a.button]:[]);b!==f&&(a.ok=b);c!==f&&(a.cancel=c);a.cancel&&a.button.push({name:a.cancelVal,callback:a.cancel});a.ok&&a.button.push({name:a.okVal,callback:a.ok,focus:!0});k.defaults.zIndex=a.zIndex;B++;return k.list[a.id]=w?w._init(a):new k.fn._init(a)};k.fn=k.prototype={version:"4.1.7",closed:!0,_init:function(a){var b,c=a.icon,e=c&&(o?{png:a.path+"img/_window.note-"+c+".gif"}:{background:"url('"+a.path+"/img/_window.note-"+c+".gif') no-repeat center right"});this.closed=!1;this.config=
a;this.DOM=b=this.DOM||this._getDOM();b.wrap.addClass(a.skin);b.close[!1===a.cancel?"hide":"show"]();b.icon[0].style.display=c?"":"none";b.iconBg.css(e||{background:"none"});b.se.css("cursor",a.resize?"se-resize":"auto");b.title.css("cursor",a.drag?"move":"auto");b.content.css("padding",a.padding);this[a.show?"show":"hide"](!0);this.button(a.button).title(a.title).content(a.content,!0).size(a.width,a.height).time(a.time);a.follow?this.follow(a.follow):this.position(a.left,a.top);this.zIndex().focus();
a.lock&&this.lock();this._addEvent();this._ie6PngFix();w=null;a.init&&a.init.call(this,d);return this},content:function(a,b){var c,e,i,g,d=this,h=d.DOM,p=h.wrap[0],j=p.offsetWidth,k=p.offsetHeight,l=parseInt(p.style.left),m=parseInt(p.style.top),n=p.style.width,h=h.content,o=h[0];d._elemBack&&d._elemBack();p.style.width="auto";if(a===f)return o;"string"===typeof a?h.html(a):a&&1===a.nodeType&&(g=a.style.display,c=a.previousSibling,e=a.nextSibling,i=a.parentNode,d._elemBack=function(){c&&c.parentNode?
c.parentNode.insertBefore(a,c.nextSibling):e&&e.parentNode?e.parentNode.insertBefore(a,e):i&&i.appendChild(a);a.style.display=g;d._elemBack=null},h.html(""),o.appendChild(a),a.style.display="block");b||(d.config.follow?d.follow(d.config.follow):(j=p.offsetWidth-j,k=p.offsetHeight-k,m-=k/2,p.style.left=Math.max(l-j/2,0)+"px",p.style.top=Math.max(m,0)+"px"),n&&"auto"!==n&&(p.style.width=p.offsetWidth+"px"),d._autoPositionType());d._ie6SelectFix();d._runScript(o);return d},title:function(a){var b=this.DOM,
c=b.wrap,b=b.title;if(a===f)return b[0];!1===a?(b.hide().html(""),c.addClass("aui_state_noTitle")):(b.show().html(a||""),c.removeClass("aui_state_noTitle"));return this},position:function(a,b){var c=this.config,e=this.DOM.wrap[0],i=o?!1:c.fixed,c=o&&this.config.fixed,g=n.scrollLeft(),d=n.scrollTop(),h=i?0:g,i=i?0:d,j=m.width(),k=m.height(),l=e.offsetWidth,t=e.offsetHeight,e=e.style;if(a||0===a)this._left=-1!==a.toString().indexOf("%")?a:null,a=this._toNumber(a,j-l),"number"===typeof a?(a=c?a+=g:a+
h,e.left=Math.max(a,h)+"px"):"string"===typeof a&&(e.left=a);if(b||0===b)this._top=-1!==b.toString().indexOf("%")?b:null,b=this._toNumber(b,k-t),"number"===typeof b?(b=c?b+=d:b+i,e.top=Math.max(b,i)+"px"):"string"===typeof b&&(e.top=b);a!==f&&b!==f&&(this._follow=null,this._autoPositionType());return this},size:function(a,b){var c,e,i=this.DOM;e=i.wrap;var g=i.main,d=e[0].style,i=g[0].style;a&&(this._width=-1!==a.toString().indexOf("%")?a:null,c=m.width()-e[0].offsetWidth+g[0].offsetWidth,a=c=this._toNumber(a,
c),"number"===typeof a?(d.width="auto",i.width=Math.max(this.config.minWidth,a)+"px",d.width=e[0].offsetWidth+"px"):"string"===typeof a&&(i.width=a,"auto"===a&&e.css("width","auto")));b&&(this._height=-1!==b.toString().indexOf("%")?b:null,e=m.height()-e[0].offsetHeight+g[0].offsetHeight,b=e=this._toNumber(b,e),"number"===typeof b?i.height=Math.max(this.config.minHeight,b)+"px":"string"===typeof b&&(i.height=b));this._ie6SelectFix();return this},follow:function(a){var b,c=this.config;if("string"===
typeof a||a&&1===a.nodeType)b=g(a),a=b[0];if(!a||!a.offsetWidth&&!a.offsetHeight)return this.position(this._left,this._top);var e=q+"follow",i=m.width(),d=m.height(),f=n.scrollLeft(),h=n.scrollTop(),j=b.offset();b=a.offsetWidth;var k=o?!1:c.fixed,l=k?j.left-f:j.left,j=k?j.top-h:j.top,t=this.DOM.wrap[0],r=t.style,A=t.offsetWidth,t=t.offsetHeight,D=l,G=j+a.offsetHeight,f=k?0:f,h=k?0:h;r.left=(D<f?l:D+A>i&&l-A>f?l-A+b:D)+c.offset.left+"px";r.top=(G+t>d+h&&j-t>h?j-t:G)+c.offset.top+"px";this._follow&&
this._follow.removeAttribute(e);this._follow=a;a[e]=c.id;this._autoPositionType();return this},button:function(){var a=this,b=arguments,c=a.DOM.buttons,e=c[0],i=a._listeners=a._listeners||{},d=g.isArray(b[0])?b[0]:[].slice.call(b);if(b[0]===f)return e;g.each(d,function(b,c){var d=c.name,f=!i[d],h=!f?i[d].elem:document.createElement("button");i[d]||(i[d]={});c.callback&&(i[d].callback=c.callback);c.className&&(h.className=c.className);c.focus&&(a._focus&&a._focus.removeClass("aui_state_highlight"),
a._focus=g(h).addClass("aui_state_highlight"),a.focus());h.setAttribute("type","button");h[q+"callback"]=d;h.disabled=!!c.disabled;f&&(h.innerHTML=d,i[d].elem=h,e.appendChild(h))});c[0].style.display=d.length?"":"none";a._ie6SelectFix();return a},show:function(a){this.DOM.wrap.show();!a&&this._lockMaskWrap&&this._lockMaskWrap.show();return this},hide:function(a){this.DOM.wrap.hide();!a&&this._lockMaskWrap&&this._lockMaskWrap.hide();return this},close:function(){if(this.closed)return this;var a=this.DOM,
b=a.wrap,c=k.list,e=this.config.close,i=this.config.follow;this.time();if("function"===typeof e&&!1===e.call(this,d))return this;this.unlock();this._elemBack&&this._elemBack();b[0].className=b[0].style.cssText="";a.title.html("");a.content.html("");a.buttons.html("");k.focus===this&&(k.focus=null);i&&g(i)[0].removeAttribute(q+"follow");delete c[this.config.id];this._removeEvent();this.hide(!0)._setAbsolute();for(var f in this)this.hasOwnProperty(f)&&"DOM"!==f&&delete this[f];w?b.remove():w=this;return this},
time:function(a){var b=this,c=b.config.cancelVal,e=b._timer;e&&clearTimeout(e);a&&(b._timer=setTimeout(function(){b._click(c)},1E3*a));return b},focus:function(){try{if(this.config.focus){var a=this._focus&&this._focus[0]||this.DOM.close[0];a&&a.focus()}}catch(b){}return this},zIndex:function(){var a=this.DOM.wrap,b=k.focus,c=k.defaults.zIndex++;a.css("zIndex",c);this._lockMask&&this._lockMask.css("zIndex",c-1);b&&b.DOM.wrap.removeClass("aui_state_focus");k.focus=this;a.addClass("aui_state_focus");
return this},lock:function(){if(this._lock)return this;var a=this,b=k.defaults.zIndex-1,c=a.DOM.wrap,e=a.config,d=n.width(),f=n.height(),h=a._lockMaskWrap||g(document.body.appendChild(document.createElement("div"))),j=a._lockMask||g(h[0].appendChild(document.createElement("div"))),d=C?"width:"+d+"px;height:"+f+"px":"width:100%;height:100%",f=o?"position:absolute;left:expression((document).documentElement.scrollLeft);top:expression((document).documentElement.scrollTop);width:expression((document).documentElement.clientWidth);height:expression((document).documentElement.clientHeight)":
"";a.zIndex();c.addClass("aui_state_lock");h[0].style.cssText=d+";position:fixed;z-index:"+b+";top:0;left:0;overflow:hidden;"+f;j[0].style.cssText="height:100%;background:"+e.background+";filter:alpha(opacity=0);opacity:0";o&&j.html('<iframe src="about:blank" style="width:100%;height:100%;position:absolute;top:0;left:0;z-index:-1;filter:alpha(opacity=0)"></iframe>');j.stop();j.bind("click",function(){a._reset()}).bind("dblclick",function(){a._click(a.config.cancelVal)});0===e.duration?j.css({opacity:e.opacity}):
j.animate({opacity:e.opacity},e.duration);a._lockMaskWrap=h;a._lockMask=j;a._lock=!0;return a},unlock:function(){var a=this._lockMaskWrap,b=this._lockMask;if(!this._lock)return this;var c=a[0].style,e=function(){o&&(c.removeExpression("width"),c.removeExpression("height"),c.removeExpression("left"),c.removeExpression("top"));c.cssText="display:none";w&&a.remove()};b.stop().unbind();this.DOM.wrap.removeClass("aui_state_lock");this.config.duration?b.animate({opacity:0},this.config.duration,e):e();this._lock=
!1;return this},_getDOM:function(){var a=document.createElement("div"),b=document.body;a.style.cssText="position:absolute;left:0;top:0";a.innerHTML=k._templates;b.insertBefore(a,b.firstChild);for(var b=0,c={wrap:g(a)},e=a.getElementsByTagName("*"),d=e.length;b<d;b++)(a=e[b].className.split("aui_")[1])&&(c[a]=g(e[b]));return c},_toNumber:function(a,b){if(!a&&0!==a||"number"===typeof a)return a;var c=a.length-1;a.lastIndexOf("px")===c?a=parseInt(a):a.lastIndexOf("%")===c&&(a=parseInt(b*a.split("%")[0]/
100));return a},_ie6PngFix:o?function(){for(var a=0,b,c,e=k.defaults.path+"/skins/",d=this.DOM.wrap[0].getElementsByTagName("*");a<d.length;a++)if(b=d[a],c=b.currentStyle.png)c=e+c,b=b.runtimeStyle,b.backgroundImage="none",b.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+c+"',sizingMethod='crop')"}:h.noop,_ie6SelectFix:o?function(){var a=this.DOM.wrap,b=a[0],c=q+"iframeMask",e=a[c],d=b.offsetWidth,f=b.offsetHeight,d=d+"px",f=f+"px";e?(e.style.width=d,e.style.height=f):(e=b.appendChild(document.createElement("iframe")),
a[c]=e,e.src="about:blank",e.style.cssText="position:absolute;z-index:-1;left:0;top:0;filter:alpha(opacity=0);width:"+d+";height:"+f)}:h.noop,_runScript:function(a){for(var b,c=b=0,a=a.getElementsByTagName("script"),e=a.length,d=[];b<e;b++)"text/dialog"===a[b].type&&(d[c]=a[b].innerHTML,c++);d.length&&(d=d.join(""),b=new Function(d),b.call(this))},_autoPositionType:function(){this[this.config.fixed?"_setFixed":"_setAbsolute"]()},_setFixed:function(){o&&g(function(){"fixed"!==F.css("backgroundAttachment")&&
"fixed"!==g("body").css("backgroundAttachment")&&F.css({zoom:1,backgroundImage:"url(about:blank)",backgroundAttachment:"fixed"})});return function(){var a=this.DOM.wrap,b=a[0].style;if(o){var c=parseInt(a.css("left")),a=parseInt(a.css("top")),e=n.scrollLeft(),d=n.scrollTop();this._setAbsolute();b.setExpression("left","eval((document.documentElement).scrollLeft + "+(c-e)+') + "px"');b.setExpression("top","eval((document.documentElement).scrollTop + "+(a-d)+') + "px"')}else b.position="fixed"}}(),_setAbsolute:function(){var a=
this.DOM.wrap[0].style;o&&(a.removeExpression("left"),a.removeExpression("top"));a.position="absolute"},_click:function(a){a=this._listeners[a]&&this._listeners[a].callback;return"function"!==typeof a||!1!==a.call(this,d)?this.close():this},_reset:function(a){var b=this._winSize||m.width()*m.height(),c=this._follow,e=this._width,d=this._height,f=this._left,g=this._top;if(a&&(a=this._winSize=m.width()*m.height(),b===a))return;(e||d)&&this.size(e,d);c?this.follow(c):(f||g)&&this.position(f,g)},_addEvent:function(){var a,
b=this,c=b.config,e="CollectGarbage"in d,f=b.DOM;b._winResize=function(){a&&clearTimeout(a);a=setTimeout(function(){b._reset(e)},40)};m.bind("resize",b._winResize);f.wrap.bind("click",function(a){a=a.target;if(a.disabled)return!1;if(a===f.close[0])return b._click(c.cancelVal),!1;(a=a[q+"callback"])&&b._click(a);b._ie6SelectFix()}).bind("mousedown",function(){b.zIndex()})},_removeEvent:function(){this.DOM.wrap.unbind();m.unbind("resize",this._winResize)},shake:function(){var a=this.DOM.wrap[0].style,
b=[4,8,4,0,-4,-8,-4,0],b=b.concat(b.concat(b));timerId=setInterval(function(){a.marginLeft=b.shift()+"px";0>=b.length&&(a.marginLeft=0,clearInterval(timerId))},13);return this}};k.fn._init.prototype=k.fn;g.fn.dialog=g.fn.artDialog=function(){var a=arguments;this[this.live?"live":"bind"]("click",function(){k.apply(this,a);return!1});return this};k.focus=null;k.get=function(a){return a===f?k.list:k.list[a]};k.list={};n.bind("keydown",function(a){var b=a.target.nodeName,c=/^INPUT|TEXTAREA$/,e=k.focus,
a=a.keyCode;e&&e.config.esc&&!c.test(b)&&27===a&&e._click(e.config.cancelVal)});m.bind("load",function(){setTimeout(function(){B||k({left:"-9999em",time:9,fixed:!1,lock:!1,focus:!1})},150)});try{document.execCommand("BackgroundImageCache",!1,!0)}catch(P){}k._templates='<div class="aui_outer"><table class="aui_border"><tbody><tr><td class="aui_nw"></td><td class="aui_n"></td><td class="aui_ne"></td></tr><tr><td class="aui_w"></td><td class="aui_c"><div class="aui_inner"><table class="aui_dialog"><tbody><tr><td colspan="2" class="aui_header"><div class="aui_titleBar"><div class="aui_title"></div><a class="aui_close" href="javascript:void(0);">\u00d7</a></div></td></tr><tr><td class="aui_icon"><div class="aui_iconBg"></div></td><td class="aui_main"><div class="aui_content"></div></td></tr><tr><td colspan="2" class="aui_footer"><div class="aui_buttons"></div></td></tr></tbody></table></div></td><td class="aui_e"></td></tr><tr><td class="aui_sw"></td><td class="aui_s"></td><td class="aui_se"></td></tr></tbody></table></div>';
k.defaults=K;j.dialog=k;var r,H,m=g(d),n=g(document),y=document.documentElement,o=!("minWidth"in y.style),I="onlosecapture"in y,J="setCapture"in y;k.dragEvent=function(){var a=this,b=function(b){var e=a[b];a[b]=function(){return e.apply(a,arguments)}};b("start");b("move");b("end")};k.dragEvent.prototype={onstart:h.noop,start:function(a){n.bind("mousemove",this.move).bind("mouseup",this.end);this._sClientX=a.clientX;this._sClientY=a.clientY;this.onstart(a.clientX,a.clientY);return!1},onmove:h.noop,
move:function(a){this._mClientX=a.clientX;this._mClientY=a.clientY;this.onmove(a.clientX-this._sClientX,a.clientY-this._sClientY);return!1},onend:h.noop,end:function(a){n.unbind("mousemove",this.move).unbind("mouseup",this.end);this.onend(a.clientX,a.clientY);return!1}};H=function(a){var b,c,e,f,g,h,j=k.focus,l=j.DOM,q=l.wrap,s=l.title,t=l.main,z="getSelection"in d?function(){d.getSelection().removeAllRanges()}:function(){try{document.selection.empty()}catch(a){}};r.onstart=function(){h?(c=t[0].offsetWidth,
e=t[0].offsetHeight):(f=q[0].offsetLeft,g=q[0].offsetTop);n.bind("dblclick",r.end);!o&&I?s.bind("losecapture",r.end):m.bind("blur",r.end);J&&s[0].setCapture();q.addClass("aui_state_drag");j.focus()};r.onmove=function(a,d){if(h){var k=q[0].style,l=t[0].style,m=a+c,n=d+e;k.width="auto";l.width=Math.max(0,m)+"px";k.width=q[0].offsetWidth+"px";l.height=Math.max(0,n)+"px"}else l=q[0].style,k=Math.max(b.minX,Math.min(b.maxX,a+f)),m=Math.max(b.minY,Math.min(b.maxY,d+g)),l.left=k+"px",l.top=m+"px";z();j._ie6SelectFix()};
r.onend=function(){n.unbind("dblclick",r.end);!o&&I?s.unbind("losecapture",r.end):m.unbind("blur",r.end);J&&s[0].releaseCapture();o&&!j.closed&&j._autoPositionType();q.removeClass("aui_state_drag")};h=a.target===l.se[0]?!0:!1;b=function(){var a=j.DOM.wrap[0],b="fixed"===a.style.position,c=a.offsetWidth,a=a.offsetHeight,d=m.width(),e=m.height(),f=b?0:n.scrollLeft(),b=b?0:n.scrollTop();return{minX:f,minY:b,maxX:d-c+f,maxY:e-a+b}}();r.start(a)};n.bind("mousedown",function(a){var b=k.focus;if(b){var c=
a.target,d=b.config,b=b.DOM;if(!1!==d.drag&&c===b.title[0]||!1!==d.resize&&c===b.se[0])return r=r||new k.dragEvent,H(a),!1}})})(window);j.dialog_box=function(d){var f=j.dialog(h.merge({title:!1,content:"\u6d88\u606f\u5185\u5bb9",drag:!0,fixed:!0,lock:!0,opacity:0.5,okValue:"\u786e\u5b9a",cancelValue:"\u53d6\u6d88",close_max:!1},d));try{d&&d.close_max&&f.DOM.close.addClass("aui_close_max")}catch(l){alert(l.message)}return f};j.alert=function(d){return j.dialog_box(h.merge({icon:"warn",title:"\u6d88\u606f\u63d0\u793a",
padding:"20px 25px 20px 10px",width:230,ok:!0},d))};j.success=function(d){return j.dialog_box(h.merge({icon:"ok",title:"\u6d88\u606f\u63d0\u793a",padding:"20px 25px 20px 10px",width:230,ok:!0},d))};j.error=function(d){return j.dialog_box(h.merge({icon:"no",title:"\u9519\u8bef\u63d0\u793a",padding:"20px 25px 20px 10px",width:230,ok:!1},d)).shake()};j.confirm=function(d){return j.dialog_box(h.merge({icon:"ask",title:"\u786e\u8ba4\u64cd\u4f5c",content:"\u8be5\u64cd\u4f5c\u4e0d\u53ef\u6062\u590d\uff0c\u662f\u5426\u7ee7\u7eed\uff1f",
padding:"20px 25px 20px 10px",width:230,ok:!0,cancel:!0},d))};j.up=function(d){j.up.timer.cancel();h.all(".com-miniwin").stop().remove();var f=h.merge({id:"_window_up_",type:"ok",callback:h.noop,time:3E3,top:0,left:0,width:"auto",target:null,content:"\u64cd\u4f5c\u63d0\u793a\uff01"},d),l=h.all(h.substitute(" <div class=\"com-miniwin clearfix\" style='position: absolute;z-index: 1024px;cursor: pointer;top:-1000px;background: #FFF;'><div class='{type}'/><div style='line-height: {line_height}px;'>{content}</div></div>",
{type:f.type,content:f.content,line_height:"ie"==h.UA.shell&&6==h.UA.ie?20:18})).appendTo("body");"auto"==f.width&&(f.width=parseInt(l.width())+5);f=h.merge(f,{top:(parseInt(h.DOM.height(window))-50)/2+h.DOM.scrollTop(window),left:(parseInt(h.DOM.width(window))-f.width)/2});f.target&&(f=h.merge(f,h.all(f.target).offset()));if(d&&(d.top&&(f.top+=d.top),d.left))f.left+=d.left;l.css({width:f.width,left:f.left,top:f.top,opacity:0}).on("click",function(d){d.stopImmediatePropagation()});l.animate({opacity:1,
top:parseInt(l.css("top"))-28},{duration:0.5,complete:h.bind(function(){j.up.timer=h.later(h.bind(function(){this.animate({top:parseInt(this.css("top"))-20,opacity:0},{duration:0.5,easing:f.easing,complete:h.bind(function(){l.remove();f.callback()},this)})},this),f.time)},l)})};j.up.timer={cancel:h.noop};j.up_success=function(d){var f=new Date,d=h.merge({content:h.substitute("\u64cd\u4f5c\u6210\u529f\uff0c\u5df2\u4e8e <b style='color:red;'>{hours}\u70b9{minutes}\u5206{seconds}\u79d2</b>{action}\uff01",
{hours:f.getHours(),minutes:10>f.getMinutes()?"0"+f.getMinutes():f.getMinutes(),seconds:f.getSeconds(),action:d&&d.action?d.action:" \u5b8c\u6210"})},d);return j.up(d)};j.up_error=function(d){return j.up(h.merge({type:"error",content:h.substitute("\u64cd\u4f5c\u5931\u8d25!")},d))};j.up_alert=function(d){return j.up(h.merge({type:"note",content:h.substitute("\u8b66\u544a\u63d0\u793a!")},d))};if("ie"==h.UA.shell&&6==h.UA.ie)h.Event.on(window,"scroll",h.buffer(function(){h.all(".x-message-box").css({top:h.DOM.scrollTop(window)})},
100));j.top=function(d){j.top.timer.cancel();h.all(".x-message-box").stop().remove();var f=h.merge({type:"success",content:"\u64cd\u4f5c\u63d0\u793a",callback:h.noop,time:3E3},d),d=h.all(' <div class="x-message-box">\n                   <div class="x-message-shadow"></div>\n                   <div class="x-message-content">                       <a class="x-message-icon"></a>\n                       <div class="x-message-text">\n                           <pre>$content$</pre>\n                      </div>\n                  </div>\n                </div>'.replace("$content$",
f.content)).css({opacity:0,"z-index":2500}).appendTo("body"),l=d.one("div.x-message-content"),s=d.one("div.x-message-shadow"),g=l.getDOMNode().offsetWidth,u=l.getDOMNode().offsetHeight,l=parseInt(h.DOM.width(window));d.css({top:-u,left:(l-g)/2,opacity:0});s.css({width:g+8,height:u+4,left:0});d.addClass("x-message-status-"+f.type);"ie"==h.UA.shell&&6==h.UA.ie?(d.css({top:h.DOM.scrollTop(window),opacity:1,position:"absolute"}).show(),j.top.timer=h.later(h.bind(function(){this.remove();f.callback()},
d),3E3)):d.animate({top:0,opacity:1},{duration:0.6,complete:h.bind(function(){j.top.timer=h.later(h.bind(function(){this.animate({opacity:0,top:-u},{duration:0.3,complete:h.bind(function(){this.remove();f.callback()},this)})},this),f.time)},d)})};j.top.timer={cancel:h.noop};j.top_success=function(d){j.top(h.merge({type:"success",content:"\u64cd\u4f5c\u6210\u529f\uff01"},d))};j.top_alter=function(d){j.top(h.merge({type:"alert"},d))};j.top_error=function(d){j.top(h.merge({type:"error",content:"\u64cd\u4f5c\u5931\u8d25\uff01"},
d))};var s=function(d){var f=this;f.option=h.merge({target:h.all("body"),renderTo:h.all("body"),direction:"top",message:[],offset:{left:0,right:0},width:"auto",jiao_left:25},d);f.option.target=h.all(f.option.target);f.element=h.all('<div class="ks_win_pop-win">\n        <div class="in">\n            <div class="tit">\u6e29\u99a8\u63d0\u793a</div>\n            <ul class=\'content\'></ul>\n        </div>\n        <div class="arr-b"></div>\n    </div>');f.element.css({position:"absolute",top:0,left:0,
display:"none",opacity:0,width:f.option.width}).one("div.arr-b").css({left:f.option.jiao_left});f.element.appendTo(f.option.renderTo);d=f.option.target.offset();f.option.offset.top&&(d.top+=f.option.offset.top);f.option.offset.left&&(d.left+=f.option.offset.left);f.option._offset=d;for(d=0;d<f.option.message.length;d++)f.element.one("ul").append(h.DOM.create("<li/>",{html:f.option.message[d]}));f.setPosition();f.element.on("mouseenter",function(){f.element.show().stop(false).animate({opacity:1},{duration:0.15})});
f.element.on("mouseleave",function(){f.element.stop(false).animate({opacity:0},{duration:0.3,complete:function(){f.element.hide()}})});h.Event.on("resize",h.bind(function(){var d=f.option.target.offset();if(f.option.offset.top)d.top=d.top+f.option.offset.top;if(f.option.offset.left)d.left=d.left+f.option.offset.left;f.option._offset=d;f.setPosition()},f))};s.prototype.setPosition=function(d){var f=h.merge({},this.option._offset);"top"==this.option.direction?f.top=this.option._offset.top-this.element.height():
"bottom"==this.option.direction&&(f.top=this.option._offset.top+this.option.target.getDOMNode().offsetHeight);if(d&&(d.top&&(f.top+=d.top),d.left))f.left+=d.left;this.element.css({left:f.left,top:f.top})};s.prototype.show=function(){this.element.show().stop(!1).animate({opacity:1},{duration:0.15})};s.prototype.hide=function(){var d=this;d.element.stop(!1).animate({opacity:0},{duration:0.3,complete:function(){d.element.hide()}})};j.tips=function(d){try{return new s(d)}catch(f){alert(f.message)}};return h.Window=
j},{requires:["node","anim","./css/_window.css"]});
